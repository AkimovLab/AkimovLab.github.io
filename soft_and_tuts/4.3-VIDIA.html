<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

  <head>
    <title>The Akimov Research Group</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-119266503-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-119266503-1');
    </script>

  </head>


  <body>    
    <!-- Navigation bar  style="margin-top:-2px;" -->
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="../research.html">Research</a></li>
        <li class="nav-item"><a class="nav-link" href="../publications.html">Publications</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">Group</a>
          <div class="dropdown-menu">
            <a class="dropdown-item" href="../group.html">Present</a>
            <a class="dropdown-item" href="../group_alumni.html">Former Members and Visitors</a>
          </div>
        </li>        
        <li class="nav-item"><a class="nav-link" href="../teaching.html">Teaching</a></li>
        <li class="nav-item"><a class="nav-link" href="../outreach.html">Outreach</a></li>
        <li class="nav-item active"><a class="nav-link" href="../soft_and_tuts.html">Software &amp; Tutorials</a></li>
        <li class="nav-item"><a class="nav-link" href="../gallery.html">Gallery</a></li>
        <li class="nav-item"><a class="nav-link" href="../contact.html">Contact</a></li>
        <li><a href="https://twitter.com/AkimovLab" class="twitter-follow-button" data-show-count="false" data-lang="en-gb">Follow @AkimovLab</a>
          <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';
            if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';
            fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
        </li>
      </ul>
    </nav>


<xmp theme="bootstrap"> 
# 4.3. VIDIA

VIDIA is a computational gateway with a nice collection of packages for various types of computations. 

The packages are pre-installed and configured, so you can skip this step and move directly to the interesting problem you solve.

You can run various types of calculations from withing the web-browser using either Jupyter or Workspace (like a terminal) tools

In particular, there is "libra 4.4.0" conda environment on vidia (with python 3.7.5) with the following Python packages:

 * libra   
 * numpy
 * matplotlib
 * scipy
 * py3dmol
 * pyscf
 * pyglet
 * psi4

Using the Workspace and "submit" tools, you can send your more time-consuming jobs to the CCR cluster and leverage other packages 
installed there, see [here](4.2-anaconda_envs.html) for more details of what is available, and [here](4.1-slurm.html) on how to 
use the SLURM system

To use Libra (in Jupyter):

    %use libra-4.4.0


To use pyscf (in Jupyter): 

    %use libra-pyscf


To use SHARC (in Jupyter):

    %use sharc-2.1.1

The use script sets the $SHARC environment variable. 


To use DFTB+ (in Workspace):

    source /etc/environ.sh
    use libra-4.4.0
    use dftbplus-19.1


____


Now, let me show the steps of how to start using the VIDIA system:

## Step 1: (Find)

In your browser, search for "ub vidia".

Eventually, you should be able to locate the right set of links, which look like this:

![step1](vidia/pic1.PNG)


## Step 2: (Login/Register)

Follow the main link to the "Log in/Sign up" button in the upper right corner. 

![alt text](vidia/pic2.PNG)

If you have not created an account, you'll be prompted to provide information to apply. Follow the instructions accordingly. 

If you already have an active account, you shall be able to see the log in screen

![alt text](vidia/pic3.PNG)

Upon successful log in, you shall be able to see the dashboard like this

![alt text](vidia/pic4.PNG)

## Step 3: (Load tools - e.g. Jupyter)

In the bottom part of your dashboard, you shall be able to see section with your tools "My Tools"

Navigate either the "All Tools" (first use) or "Recent" (consequent sessions) tab and click the mini-box next to the 
tool name for the tool you want to use

On the next screen, you may also need to click the button "Launch tool" (first use) or the tool would start right away 
(for the folloing sessions)

![alt text](vidia/pic5.PNG)

Upon sucessful start, you shall be able to see Jupyter starting point, showing the content of your current (home) directory. 
For me, it looks like the screen below. 

## Step 4: (Create the working files and import the needed Python tools)

This screen also shows the actions you need to do (New -> Python3) to create a new Jupyter notebook that runs a selected kernel.
In this example, we select to run the Python 3 kernel (with all the bells and whistles we can import later), but you can see that
VIDIA also has R and Octave kernels you can use. 

![alt text](vidia/pic6.PNG)

Now, before we can import Libra and other modules, we need to activate the proper environmental variables and related settings.

This is done by the directive 

    %use libra-4.4.0

that you can see in the very first cell of the notebook. The `use` command is itself a Python package, so we needed to import it first via

    import hublib.use


In the second cell, we import some standard Python libraries as well as all other libraries that we may be using - see the list above.

Don't get frustrated by a long message with pinkish background, which appears when we load the Libra library. This is not critical, and is 
just a bunch of warning messages (I'll need to figure it out at some point). The good thing is that if you re-run the cell with the 
import instructions again, the cell with the warning messages will disappear. 

![alt text](vidia/pic7.PNG)


In the picture below, we have done just that and also imported several more libraries.


## Step 5: (Write and execute your codes)

Here, we show couple examples. 

The Example 1 demonstates how one can use some of the functionality of the Libra package

Create a 2 x 2 complex-valued matrix, populate it with numbers, do some math operations such as
Hermitian conjugation and matrix multiplication, compute some propetries such as the traces of 
matrices, do other operations such as finding the eigenvalues/eigenvectors.

Well, of course this is just a very-very-very small part of what Libra can do, just to show it is working.

![alt text](vidia/pic8.PNG)

The Example 2 demonstrates how one can do some quantum-mechanical calculations on molecular systems
using the [psi4](http://www.psicode.org/) package. The code is a fully-fledged molecular electronic
structure code, and its Python wrapper makes it possible to drive such calculations by Python.

In this example, we first define our own auxiliary function to run single point calculation on a
given molecule at a specified level of theory. The function returns (and prints out) the energies and forces.

![alt text](vidia/pic9.PNG)
______

Just a few words on how to run the calculations:

* one can run each cell individually by simply selecting it and then pressing "Shift + Enter"

* one can run all the cells by using the "Cell" tab, e.g. Cell -> Run All as shown below

    ![alt text](vidia/pic10-a.PNG)

* sometimes, especially if you have re-compiled you C++ code (well, this is unlikely to happen here) or have updated the binaries, 
you also need to restart Jupyter kernel for the changes to take effect. This can be done from the "Kernel" tab, e.g. as 
Kernel -> Restart & Run All or just Kernel->Restart & Clear Output, if you want to re-run cells one-by-one manually (e.g. to debug). 

    ![alt text](vidia/pic10-b.PNG)

## Step 6: (Terminating your Jupyter session)

Therminate it properly, as shown below:

![alt text](vidia/pic11.PNG)

If you just close the browser, the Jupyter session will still be active (running in the backgound), and you can return to it later on.



</xmp>

  <script type="text/javascript" src="https://cdn.rawgit.com/Naereen/StrapDown.js/master/strapdown.min.js"></script>
  </body>
</html>
